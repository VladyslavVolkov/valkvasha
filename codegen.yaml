schema:
  - packages/cms/exports/graphql/schema.graphql
watch: true
documents:
  - packages/cms/exports/graphql/**/*.graphql
  - packages/website/src/graphql/**/*.graphql
hooks:
  afterAllFileWrite:
    - prettier --write
generates:
  packages/website/src/graphql/index.tsx:
    plugins:
      - typescript:
          allowEnumStringTypes: true
          avoidOptionals: true
          dedupeFragments: true
          scalars:
            Upload: unknown
            Date: Date
            Time: Date
            JSON: Record<string, unknown>
            Long: number
            DateTime: Date
          strictScalars: true
          declarationKind:
            interface: interface
            type: interface
            scalar: type
            arguments: type
            input: type
          defaultScalarType: unknown
      - typescript-operations:
          preResolveTypes: true
          avoidOptionals: true
      - typescript-react-apollo:
          withComponent: true
          withHooks: true
          withResultType: true
          withRefetchFn: true
          optimizeDocumentNode: true
          addDocBlocks: true
          reactApolloVersion: 3
